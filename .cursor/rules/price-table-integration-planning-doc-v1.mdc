---
name: price-table-integration-planning-doc-v1
description: integration-planning
---

# Overview
# 단가표 통합 관리 시스템 기획서_v1

> 목적: 엑셀로 관리하던 **본사 판매 단가표**를 웹에서 **SSOT(단일 기준 모델)**로 통합 관리하고, 거래처별(지역/업체) 단가표를 업로드(이미지/엑셀)하여 **동일 모델 기준으로 가격을 한눈에 비교**할 수 있는 관리자 시스템을 구축한다.  
**무엇을 만들고 어떻게 운영할 것인지**에 집중한다.

---

## 1. 배경과 문제 정의

### 1.1 현재 문제
- 본사 단가표가 엑셀 중심이라 **중복, 버전 혼선, 수정 이력 추적 불가/불명확** 문제가 발생한다.
- 거래처 단가표는 지역/업체마다 양식이 달라 **비교에 많은 시간이 소요**되며, 특히 이미지(캡처) 형태로 전달되는 경우가 많아 **수기 정리 부담**이 크다.
- 중고폰 특성상 **등급(예: A+, A, A-, B+...)**과 **차감(정액 차감: 상태 이슈별 고정 금액 차감)**이 존재해 단순 표가 아니라 “정확한 기준”과 “운영 규칙”이 필요하다.

### 1.2 해결 목표
- SSOT 기반으로 모델을 **중복 없이 단일 관리**하고, 가격 변경은 **검수/적용 절차**를 통해 안전하게 반영한다.
- 본사 엑셀은 업로드로 빠르게 반영하되, **SSOT에 없는 모델은 자동 생성하지 않고** 관리자 판단으로 처리한다.
- 거래처 단가표는 이미지/엑셀 업로드 후 **테이블 변환 → 모델 매칭 → 검수**를 통해 비교 가능한 상태로 만든다.
- **누가 언제 무엇을 어떻게 바꿨는지 기록(감사로그)**이 완벽히 남도록 운영 신뢰를 확보한다.

---

## 2. 시스템이 제공하는 핵심 가치 (2가지)

### 2.1 핵심 기능 1: 본사 판매 단가표 관리
- 스마트폰(애플/삼성/기타)을 우선으로 관리한다. (태블릿/웨어러블은 확장)
- 모델 기준(SSOT)으로 등록된 항목에 대해 **등급별 기본가**와 **정액 차감표**를 관리한다.
- 엑셀 업로드를 통해 본사 단가표를 쉽게 업데이트할 수 있도록 한다.  
  단, 업로드 기능은 **SSOT 모델 관리가 안정화된 이후**에 구현/도입한다.

### 2.2 핵심 기능 2: 거래처 단가표 비교 관리
- 거래처(부천/광명/서울/부산/대전 등)별 단가표를 업로드하여 관리한다.
- 특정 모델을 기준으로 **거래처별 가격을 한눈에 비교**할 수 있어야 한다.
- 특히 잘 팔리는 모델을 선택하면(예: Top 10), 해당 모델들의 거래처별 가격 비교가 **즉시, 직관적으로** 가능해야 한다.

---

## 3. SSOT(모델 단일 기준) 설계 및 운영 원칙

### 3.1 SSOT의 역할
- 모든 가격 정보(본사/거래처)는 **SSOT 모델을 기준으로 연결**되어야 한다.
- 같은 모델이 중복 등록되면 업로드/매칭/비교 기능이 망가지므로 SSOT는 “절대 기준”이다.

### 3.2 모델 식별 기준(확정)
모델을 등록할 때 기준이 되는 핵심 항목은 다음과 같다.

- 제조사: 애플 / 삼성 / 기타
- 타입: 스마트폰 / 태블릿 / 웨어러블
- 시리즈
- 모델명
- 스토리지: 32GB ~ 2TB (정수 GB로 관리)
- 연결성(Connectivity) 기준(확정):
  - 스마트폰: **LTE 고정**
  - 태블릿: **WiFi / WiFi+Cellular**
  - 웨어러블: **Standard 고정**

> 의미: 스마트폰/웨어러블은 연결성이 고정되어 모델 식별에서 변수가 되지 않는다(단순화).  
> 태블릿만 WiFi/WiFi+Cellular로 모델 변형이 나뉘는 구조를 갖는다.

---

### 3.3.1 변경 배경
- 기존 “별칭(동의어) 누적” 방식은 거래처 표기 변형을 흡수하는 장점이 있으나,
  - 오타/축약/유사 모델명이 많은 환경에서는 **잘못된 자동 매칭 위험**이 존재한다.
- 본사 판매표에는 각 모델마다 **고유한 모델 코드**가 존재하므로,
  - 매칭 정확도 관점에서 **모델 코드 기반 매칭이 가장 올바른 기준**이다.

### 3.3.2 최종 원칙(확정)
- **본사 단가표/판매표 업로드 및 갱신은 “모델 코드”를 1차 기준으로 매칭한다.**
- 모델명/용량/연결성 기반 텍스트 매칭은 보조 수단이며, 가능한 한 모델 코드를 기준으로 정합성을 확보한다.

### 3.3.3 적용 범위
#### A) 본사 단가표(엑셀) 업로드
- 업로드 파일에 **모델 코드 컬럼이 필수**로 포함된다.
- 시스템은 모델 코드를 기준으로 SSOT 모델과 매칭한다.
- 모델 코드가 없거나 SSOT에 없는 경우:
  - “미매핑(모델 코드 누락/미등록)”으로 분류하고 관리자 판단으로 처리한다.
  - **SSOT 자동 생성은 금지**한다.

#### B) 거래처 단가표(엑셀/이미지) 업로드
- 거래처 단가표에는 일반적으로 모델 코드가 포함되지 않으므로,
  - 거래처 업로드는 **모델명/용량/타입** 기반으로 매칭한다.
- 단, 매칭 결과가 확정되면 내부적으로 해당 거래처 표기(모델명)를
  - **SSOT의 모델 코드(또는 SSOT 모델)에 연결**해 “재사용 가능한 매핑”으로 축적한다.
- 결과적으로 거래처 매칭도 시간이 지날수록 “텍스트 추정”이 아니라
  - “거래처 표기 → 모델 코드”로 안정화되는 구조를 지향한다.

### 3.3.4 별칭 운영의 역할 재정의
- 별칭은 단순 동의어 사전이 아니라:
  - “이 거래처에서 이 표기는 이 모델 코드다”라는 **확정 매핑 데이터**로 운영한다.

### 3.3.5 운영 효과(기대 결과)
- 본사 업로드에서 매칭 정확도는 **모델 코드로 사실상 100%에 가깝게** 안정화된다.
- 거래처 업로드는 초기에는 검수가 필요하지만,
  - 한번 확정된 매핑이 누적되면 반복 업로드 시 자동 매칭률이 빠르게 상승한다.
- 잘못된 매칭으로 인해 비교 결과가 왜곡되는 리스크를 최소화한다.

---

## 4. 가격/등급/정액 차감 운영 방식

### 4.1 가격 정보 구성
- 기본가는 **등급별**로 관리한다.  
  예: A+, A, A-, B+, B, ... 수출, 기타 등

### 4.2 등급 체계(관리자 유동 관리 가능)
- 등급 체계는 관리자가 **추가/수정/정렬/비활성화**할 수 있도록 한다.

#### 등급 변경 안전 규칙(필수)
- 이미 사용 중인 등급은 **완전 삭제를 원칙적으로 금지**한다.
- 대신 **비활성화(숨김)** 처리로 운영한다.
- 삭제가 꼭 필요하면, 관리자가 **대체 등급으로 변경(치환)** 후 제거한다.

### 4.3 정액 차감(확정)
차감은 “등급 강등”이 아니라 **고정 금액 차감**으로 운영한다.

- 최종가 = (등급별 기본가) − Σ(선택된 차감 금액 합)

### 4.4 차감 항목/레벨/금액(관리자 유동 관리 가능)
- 차감 항목과 레벨은 관리자가 유동적으로 관리할 수 있어야 한다.
- 예:
  - 차감 항목: 내부 잔상, 서브 잔상, 줄감, 외관 찍힘, 카메라 불량 등
  - 레벨: L1~L4 또는 중상/상/대잔상 등 (표시명 커스터마이징 가능)
  - 금액: 레벨별 정액 차감 금액

#### 차감 변경 안전 규칙(필수)
- 이미 사용 중인 차감 항목/레벨은 **완전 삭제 금지**
- 대신 **비활성화**로 운영한다.
- 삭제가 필요하면 **대체 항목/레벨로 치환** 후 제거한다.

### 4.5 본사/거래처별 차감표 분리 운영(권장/필수 수준)
- 같은 차감 항목/레벨이라도 거래처마다 차감 금액이 다를 수 있으므로,
  - 본사 차감표
  - 거래처별 차감표
를 각각 운영 가능해야 한다.

---

## 5. 본사 단가표 운영(SSOT 우선 → 엑셀 업로드 개선)

### 5.1 우선순위(확정)
1) **SSOT 기반 모델 관리 기능을 먼저 완성/검증**한다.
2) 그 다음, 본사에서 관리 중인 **엑셀 매출표/단가표 업로드 기능**을 구현해 효율을 개선한다.

### 5.2 본사 업로드 플로우(확정)
업로드 → 자동 매핑 → 검수 → 확정 → 적용

- 업로드 후 시스템은 **모델 코드 기준**으로 자동 매핑한다.
- 관리자는 검수 화면에서 의심/미매핑 항목만 수정한 뒤 확정한다.
- 확정된 단가표는 “현재 단가표로 적용”된다.

### 5.3 미매핑 처리 정책(확정)
- **SSOT에 없는 모델은 자동 생성 금지**
- 미매핑 모델은 관리자에게 알림을 제공하고,
  - (선택) SSOT 모델을 먼저 등록 후 다시 업로드/재매핑
  - (선택) 이번 업로드에서는 해당 항목 제외하고 적용
처럼 관리자가 적용 여부를 판단한다.

---

## 6. 거래처 단가표 운영(이미지 중심)

### 6.1 거래처 리스트 관리(필수)
- 관리자 페이지에서 거래처(부천/광명/서울/부산/대전 등)를 등록/수정/비활성화 관리한다.
- 거래처 단가표는 항상 “거래처 단위”로 저장/조회/비교될 수 있어야 한다.

### 6.2 거래처 업로드 플로우(확정)
#### 6.2.1 엑셀 업로드
- 업로드 → 자동 매핑 → 검수 → 확정 → 저장

#### 6.2.2 이미지 업로드(핵심)
이미지 → 테이블 변환 → 모델 매칭(SSOT) → 검수 → 저장

- 거래처 단가표는 이미지 캡처 형태로 많이 들어오므로, 업로드 후 표를 테이블로 변환해야 한다.
- 테이블 변환 결과를 SSOT 모델 기준으로 매칭한다.
- 매칭 실패/의심 항목은 검수 화면에서 수동으로 SSOT 모델을 선택해 보정한다.
- 수동 매핑 결과는 “거래처 표기 → 모델 코드”로 누적되어 다음부터 자동 매칭률이 높아져야 한다.

### 6.3 이미지 품질 관리(필수)
- 이미지 업로드 시 흐림/잘림/해상도 부족 등은 인식 실패를 유발한다.
- 시스템은 업로드 시 품질 경고를 제공하고 재업로드를 유도할 수 있어야 한다.
- 검수 화면에서는 “저신뢰 항목/값”을 강조 표시하여 빠른 보정이 가능해야 한다.

---

## 7. 비교 기능(핵심 가치 제공)

### 7.1 비교 기준(확정)
- 비교는 **관리자 페이지에 등록된 SSOT 모델 리스트 기준**으로 수행된다.

### 7.2 Top 10(잘 팔리는 모델) 비교 요구사항(확정)
- 관리자가 “잘 팔리는 모델 Top 10”을 선택/관리할 수 있어야 한다.
- 비교 화면에서 다음을 제공한다:
  - 선택된 10개 모델(행) × 거래처(열)의 가격 비교를 한눈에 표시
  - 등급 선택(예: A급만 보기, 또는 특정 등급)
  - 최고가/최저가 자동 하이라이트로 빠른 판단 지원
  - 거래처 선택/필터로 비교 범위를 좁힐 수 있음

### 7.3 차감 반영 비교(강력 추천 기능)
- 비교 화면에서 차감 항목/레벨을 선택하면,
  각 거래처의 차감표를 적용한 “최종가”를 함께 보여줄 수 있다.
- 목표: “같은 상태의 기기를 어디에 판매하는 게 유리한지” 즉시 판단

---

## 8. 계정/권한/기록(운영 안정의 핵심)

### 8.1 권한 정책(최적 효율)
- 권한 정책은 과도하게 복잡하게 설계하지 않는다.
- 최소 2단계 구조를 기본으로 한다:
  - 관리자(편집/업로드/확정/적용 가능)
  - 조회자(조회/비교만 가능)

> 필요 시 “검수자(검수 가능, 적용 불가)”를 추가하는 수준까지만 확장한다.

### 8.2 변경 기록(감사로그) 최우선(확정)
- 시스템 운영 신뢰의 핵심은 “기록”이다.
- 아래 변경은 반드시 기록되어야 한다.
  - SSOT 모델/스토리지/연결성 관련 변경
  - 등급 체계 변경(추가/수정/비활성화)
  - 차감 항목/레벨/금액 변경
  - 본사/거래처 단가표 업로드 및 검수 결과 확정/적용
  - 수동 매핑(거래처 표기 → 모델 코드 연결) 변경
- 기록 내용: 누가/언제/무엇을/어떻게 + 변경 전/후가 확인 가능해야 한다.

---

## 9. 최종 제공 결과(완성 기준)
1) SSOT 모델이 중복 없이 안정적으로 등록/관리된다.  
2) 본사 단가표는 모델 코드 기반으로 정확하게 업로드/갱신된다.  
3) 거래처 단가표는 이미지/엑셀 업로드로 테이블 변환 및 SSOT 매칭이 가능하다.  
4) 특정 모델 또는 Top 10 모델 기준으로 거래처별 가격 비교가 한눈에 가능하다.  
5) 권한은 단순하더라도 변경 기록이 완벽히 남아 운영 신뢰를 확보한다.

## 10.## 결정 잠금(운영 원칙)

1) 본사 엑셀 업로드는 모델코드를 1차 기준으로 매칭한다. 모델코드 누락/SSOT 미등록은 미매핑으로 처리한다.  
2) SSOT에 없는 모델은 업로드 과정에서 자동 생성하지 않는다. 미매핑은 제외/보류/SSOT 등록 후 재업로드 중 관리자 판단으로 처리한다.  
3) 등급/차감(항목/레벨)은 관리자 유동 관리가 가능하되, 사용 중인 항목은 삭제하지 않고 비활성화로 운영한다(삭제 필요 시 대체 항목으로 치환 후 제거).
